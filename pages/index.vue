<template>
  <section>
    <div class="content">
      <svg
        class="logo"
        viewBox="0 0 200 72"
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <mask
          id="mask0"
          mask-type="alpha"
          maskUnits="userSpaceOnUse"
          x="0"
          y="0"
          width="200"
          height="72">
          <path
            d="M200 0H0V72H200V0Z"
            fill="white"/>
        </mask>
        <g mask="url(#mask0)">
          <path
            d="M200 0H0V72H200V0Z"
            fill="white"/>
          <path
            d="M18.2656 35.1953C14.5156 35.1953 11.7266 33.3906 10.4375 30.4375H10.2734V34.8203H2V1H10.3203V13.8203H10.4844C11.7734 10.75 14.5625 8.92188 18.1953 8.92188C24.6406 8.92188 28.3672 13.7266 28.3672 22.0703C28.3672 30.3906 24.6641 35.1953 18.2656 35.1953ZM15.0781 15.4141C12.1953 15.4141 10.2969 18.0391 10.2734 22.0703C10.2969 26.1484 12.1719 28.7031 15.0781 28.7031C18.0312 28.7031 19.8828 26.125 19.8828 22.0703C19.8828 18.0156 18.0078 15.4141 15.0781 15.4141ZM42.1719 29.4766C44.7031 29.4766 46.9062 27.9297 46.9062 25.6562V23.8984L42.2656 24.2031C40.0859 24.3672 38.8672 25.375 38.8672 26.875C38.8672 28.4922 40.2031 29.4766 42.1719 29.4766ZM39.2188 35.1953C34.4844 35.1953 30.6406 32.0547 30.6406 27.4375C30.6406 22.6562 34.3203 19.9844 40.9297 19.5859L46.9062 19.2344V17.7812C46.9062 15.7422 45.4531 14.6172 43.2734 14.6172C41.0234 14.6172 39.5938 15.7891 39.3594 17.3594H31.8828C32.1172 12.1328 36.5703 8.6875 43.6953 8.6875C50.5156 8.6875 55.0391 12.1797 55.0391 17.3125V34.8203H46.9531V31.1875H46.7891C45.4062 33.7656 42.2891 35.1953 39.2188 35.1953ZM83.2109 19.375H75.5703C75.2891 16.7266 73.6953 15.0156 71.2812 15.0156C68.3516 15.0156 66.6406 17.5469 66.6406 22.0469C66.6406 26.5938 68.3516 29.125 71.2812 29.125C73.7188 29.125 75.2891 27.5547 75.5938 24.9062H83.2109C83 31.3984 78.3828 35.4297 71.1875 35.4297C63.1953 35.4297 58.2266 30.4141 58.2266 22.0469C58.2266 13.7734 63.1953 8.6875 71.1406 8.6875C78.3359 8.6875 83 12.9766 83.2109 19.375ZM94.8594 19L102.195 9.29688H111.453L102.383 20.2188L111.992 34.8203H102.43L96.2188 25.1875L94.7188 26.9922V34.8203H86.3984V1H94.7188V19H94.8594ZM113.539 34.8203V1H121.859V34.8203H113.539ZM138.266 35.4297C130.227 35.4297 125.211 30.5547 125.211 22.0469C125.211 13.7031 130.344 8.6875 138.266 8.6875C146.234 8.6875 151.32 13.6797 151.32 22.0469C151.32 30.5781 146.305 35.4297 138.266 35.4297ZM138.266 29.3359C141.102 29.3359 142.906 26.7344 142.906 22.0703C142.906 17.4766 141.102 14.7812 138.266 14.7812C135.453 14.7812 133.648 17.4766 133.648 22.0703C133.648 26.7344 135.406 29.3359 138.266 29.3359ZM167.047 28.4688C170.023 28.4688 171.852 26.1719 171.852 22.0469C171.852 17.9688 170 15.4141 167.047 15.4141C164.07 15.4141 162.266 17.9453 162.266 22.0469C162.266 26.1719 164.047 28.4688 167.047 28.4688ZM166.789 44.4297C159.523 44.4297 154.906 41.125 154.438 36.4844H162.477C162.875 37.9609 164.609 38.9922 166.977 38.9922C170.164 38.9922 171.828 37.2812 171.828 34.75V30.0625H171.664C170.656 32.7578 167.656 34.6094 163.906 34.6094C157.812 34.6094 153.758 29.9688 153.758 21.9766C153.758 13.8203 157.625 8.92188 164.023 8.92188C167.727 8.92188 170.562 10.9375 171.711 13.8203H171.875V9.29688H180.125V34.5391C180.125 40.6328 174.734 44.4297 166.789 44.4297ZM189.102 35.125C186.688 35.125 184.766 33.1797 184.766 30.7656C184.766 28.3516 186.688 26.4062 189.102 26.4062C191.516 26.4062 193.461 28.3516 193.461 30.7656C193.461 33.1797 191.516 35.125 189.102 35.125Z"
            fill="black"/>
          <path
            d="M12.8438 50.7734C10.2891 50.7734 8.39062 52.6719 8.17969 55.3203H17.4609C17.3203 52.6016 15.4688 50.7734 12.8438 50.7734ZM17.6484 62.9375H25.1484C24.3516 68.2109 19.6641 71.6094 12.9844 71.6094C4.85156 71.6094 0 66.6172 0 58.3672C0 50.1172 4.89844 44.8672 12.7031 44.8672C20.3906 44.8672 25.2891 49.9062 25.2891 57.7109V60.0547H8.0625V60.5703C8.0625 63.6172 10.1016 65.7266 13.1016 65.7266C15.3281 65.7266 17.0625 64.6719 17.6484 62.9375ZM52.5 45.4766L44.0391 71H34.4531L25.8984 45.4766H34.8281L39.2812 64.0391H39.4453L43.8047 45.4766H52.5ZM65.7891 50.7734C63.2344 50.7734 61.3359 52.6719 61.125 55.3203H70.4062C70.2656 52.6016 68.4141 50.7734 65.7891 50.7734ZM70.5938 62.9375H78.0938C77.2969 68.2109 72.6094 71.6094 65.9297 71.6094C57.7969 71.6094 52.9453 66.6172 52.9453 58.3672C52.9453 50.1172 57.8438 44.8672 65.6484 44.8672C73.3359 44.8672 78.2344 49.9062 78.2344 57.7109V60.0547H61.0078V60.5703C61.0078 63.6172 63.0469 65.7266 66.0469 65.7266C68.2734 65.7266 70.0078 64.6719 70.5938 62.9375ZM81.4453 71V45.4766H89.5312V50.2812H89.6953C91.0078 46.8828 93.6797 44.9844 97.5938 44.9844C103.289 44.9844 106.453 48.5469 106.453 54.6172V71H98.1562V56.3984C98.1562 53.4922 96.7734 51.7578 94.0547 51.7578C91.4062 51.7578 89.7656 53.75 89.7656 56.5625V71H81.4453ZM113.43 39.7578H121.75V45.4766H126.344V51.5938H121.75V62.3047C121.75 64.0625 122.688 64.9531 124.68 64.9531C125.336 64.9531 125.828 64.9297 126.32 64.8359V70.7422C125.523 70.9062 124.305 71.0469 122.688 71.0469C116.055 71.0469 113.43 69.0078 113.43 63.9922V51.5938H109.961V45.4766H113.43V39.7578ZM129.344 53.2109C129.344 48.1016 133.703 44.8672 140.734 44.8672C147.695 44.8672 152.031 48.1719 152.078 53.4453H144.484C144.414 51.6172 142.961 50.4688 140.664 50.4688C138.625 50.4688 137.312 51.3594 137.312 52.6719C137.312 53.6797 138.25 54.4062 140.172 54.8047L145.516 55.8828C150.602 56.9609 152.781 59.0469 152.781 62.9141C152.781 68.2109 147.977 71.6094 140.852 71.6094C133.398 71.6094 129.086 68.2109 128.734 62.9844H136.797C137.031 64.8828 138.555 66.0078 140.992 66.0078C143.195 66.0078 144.555 65.2109 144.555 63.8516C144.555 62.8203 143.781 62.2344 141.789 61.8125L136.961 60.8047C131.969 59.75 129.344 57.125 129.344 53.2109Z"
            fill="#685FF0"/>
        </g>
      </svg>

      <h1>–õ—é–±–∏–º –ø—Ä–æ–¥—É–∫—Ç–æ–≤–æ–µ –∫–æ–º—å—é–Ω–∏—Ç–∏ —Å&nbsp;2019</h1>
      <h2>–°–ª–µ–¥–∏—Ç–µ –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ ‚Äî –±—É–¥–µ—Ç&nbsp;–±–æ–º–±–∞&nbsp;üí£</h2>
      <form
        v-if="showForm"
        @submit.prevent="sendEmail">
        <input
          v-model="email"
          type="email"
          placeholder="–í–∞—à–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞"
          required>
        <button
          type="submit">–ó–∞–∏–Ω—Ç—Ä–∏–≥–æ–≤–∞–ª–∏</button>
      </form>
      <p
        v-if="success"
        class="success">–°–ø–∞—Å–∏–±–æ! –ë—É–¥–µ–º&nbsp;–Ω–∞&nbsp;—Å–≤—è–∑–∏&nbsp;‚úåÔ∏èüéâüòò</p>
      <p
        v-if="error"
        class="error">–û –Ω–µ—Ç, —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫! üò°</p>
    </div>
    <footer>
      <ul>
        <li class="facebook">
          <a
            href="https://www.facebook.com/backlog.events/"
            target="_blank">Facebook</a>
        </li>
        <li class="email">
          <a href="mailto:pv@backlog.events">–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º</a>
        </li>
        <li class="copyright">
          ¬© 2019 Backlog.Events
        </li>
      </ul>
    </footer>
  </section>
</template>

<script>
import axios from 'axios';

export default {
  data() {
    return {
      showForm: true,
      email: '',
      error: false,
      success: false
    }
  },
  methods: {
    sendEmail: async function () {
      try {
        await axios.post('https://hooks.zapier.com/hooks/catch/4701579/nqmu53/', {
          email: this.email
        }, {
          headers: {
            'Content-Type': 'application/x-www-form-urlencoded'
          }
        });
        this.success = true
      } catch (e) {
        this.error = true
      }
      this.showForm = false
    }
  }
}
</script>

<style scoped>
@media (max-width: 1024px) {
  * {
    font-family: Roboto;
  }
  section {
    min-height: 100%;
    height: 100vh;
    display: grid;
    grid-template-rows: 1fr auto;
  }
  .content {
    padding: 5vh 40px 0;
    margin: 0 auto;
  }
  footer {
    margin: 0 auto;
    grid-row-start: 2;
    grid-row-end: 3;
  }
  .logo {
    height: 56px;
  }
  h1 {
    font-style: normal;
    font-weight: 800;
    font-size: 36px;
    line-height: 36px;
    margin-top: 48px;
  }
  h2 {
    font-style: normal;
    font-weight: 400;
    font-size: 20px;
    line-height: 24px;
    margin-top: 44px;
  }
  form {
    margin: 3vh 0;
  }
  input {
    background: #FFFFFF;
    border: 1px solid rgba(0, 0, 0, 0.2);
    box-sizing: border-box;
    border-radius: 3px;
    height: 52px;
    width: 100%;
    padding-left: 20px;
  }
  input:focus, button:focus {
    outline: 0;
  }
  input::placeholder {
    position: relative;
    color: rgba(0, 0, 0, 0.36);
  }
  button {
    box-shadow: 0px 4px 8px rgba(104, 95, 240, 0.24), 0px 1px 1px rgba(104, 95, 240, 0.12);
    background: #685FF0;
    border: 1px solid #685FF0;
    box-sizing: border-box;
    border-radius: 3px;
    width: 100%;
    margin-top: 8px;
    font-style: normal;
    font-weight: 500;
    font-size: 15px;
    line-height: 20px;
    text-align: center;
    color: #FFFFFF;
    height: 52px;
  }
  button:active {
    box-shadow: 0px 1px 2px rgba(104, 95, 240, 0.24);
    background: #5851CC;
  }
  ul {
    list-style: none;
    text-align: center;
    width: 100%;
    padding: 0;
    /* margin-top: 80px; */
    margin-bottom: 32px;
  }
  ul > li {
    margin-bottom: 32px;
    font-style: normal;
    font-weight: 500;
    font-size: 15px;
    line-height: 20px;
  }
  ul > li > a {
    text-decoration: none;
  }
  ul > li > a:visited {
    color: #685FF0;
  }
  .success, .error {
    font-style: normal;
    font-weight: 400;
    font-size: 24px;
    line-height: 28px;
    color: #000000;
    margin-top: 40px;
    height: 160px;
  }
}

@media (min-width: 1024px) {
  * {
    font-family: Roboto;
  }
  .logo {
    height: 72px;
  }
  html {
    height: 100%;
  }
  section {
    min-height: 100%;
    height: 100vh;
    display: grid;
    grid-template-rows: 1fr auto;
  }
  footer {
    grid-row-start: 2;
    grid-row-end: 3;
    padding: 32px 0;
    width: 850px;
    margin: 0 auto;
  }
  .content {
    padding-top: 15vh;
    width: 850px;
    margin: 0 auto;
  }
  h1 {
    margin-top: 12vh;
    font-weight: 800;
    font-size: 72px;
    line-height: 72px;
    max-width: 800px;
    margin-bottom: 0;
  }
  h2 {
    margin-top: 1.5em;
    font-style: normal;
    font-weight: 500;
    font-size: 24px;
    line-height: 28px;
    margin-bottom: 0;
  }
  form {
    margin-top: 50px;
    /* margin-bottom: 50px; */
  }
  input[type=email] {
    width: 290px;
    height: 52px;
    padding-left: 16px;
    background: #FFFFFF;
    border: 1px solid rgba(0, 0, 0, 0.2);
    box-sizing: border-box;
    border-radius: 3px;
  }
  input::placeholder {
    position: relative;
    color: rgba(0, 0, 0, 0.36);
  }
  button {
    box-shadow: 0px 4px 8px rgba(104, 95, 240, 0.24), 0px 1px 1px rgba(104, 95, 240, 0.12);
    width: 160px;
    height: 52px;
    background: #685FF0;
    border: 1px solid #685FF0;
    box-sizing: border-box;
    border-radius: 3px;
    color: white;
    font-size: 15px;
    padding-top: 4px;
    transition: 0.175s;
  }
  button:hover {
    box-shadow: 0px 8px 12px rgba(104, 95, 240, 0.24), 0px 1px 1px rgba(104, 95, 240, 0.2);
    background: #7F77F2;
  }
  button:active {
    box-shadow: 0px 1px 2px rgba(104, 95, 240, 0.24);
    background: #5851CC;
  }
  button:focus,input:focus {
    outline:0;
  }
  ul {
    margin: 0;
    padding: 0;
    list-style: none;
  }
  ul > li {
    float: left;
    font-weight: 500;
    font-size: 15px;
    line-height: 20px;
    padding-right: 32px;
  }
  ul > li > a {
    text-decoration: none;
    color: #685FF0;
  }
  ul > li > a:hover {
    opacity: 0.8;
  }
  ul > li:last-child {
    float: right;
  }
  .success, .error {
    font-style: normal;
    font-weight: 500;
    font-size: 24px;
    line-height: 24px;
    margin-top: 64px;
  }
}
</style>
